# $Header: /afs/dev.mit.edu/source/repository/athena/etc/xdm/xlogin/Imakefile,v 1.1 1991-03-07 12:39:10 mar Exp $
#
# CC can be overridden from driver makefile.  Note the -g flag
# is on the CC macro, not the CFLAGS and LDFLAGS macros, so the
# driver makefile can force optimization instead of debugging.
#
#       CC = gcc -g -DFUNCTION_PROTOTYPES -ansi

DEFINES = -I.

LINTFLAGS = $(CFLAGS) -b -h -u -v -z

  SRCS = xlogin.c AriRegAll.c verify.c
  OBJS = xlogin.o AriRegAll.o verify.o
  LIBS = -lXaw -lm ../wcl/libWc.a -lXmu -lXt -lXext -lX11 -lkrb -ldes -lhesiod

create_dir(/etc/athena/login)
SimpleProgram(timeout,timeout.o,,$(ATHDIR))
SimpleProgram(xlogin,$(OBJS),$(LIBS),/etc/athena/xlogin)

install_file(check,/etc/athena/login/check)
install_file(question,/etc/athena/login/question)
install_file(warning,/etc/athena/login/warning)
install_file(white,/etc/athena/login/white)
install_file(owl,/etc/athena/login/owl)
install_file(owleyes0.xbm,/etc/athena/login/owleyes0.xbm)
install_file(owleyes1.xbm,/etc/athena/login/owleyes1.xbm)
install_file(owleyes2.xbm,/etc/athena/login/owleyes2.xbm)
install_file(owleyes3.xbm,/etc/athena/login/owleyes3.xbm)
install_file(owleyes4.xbm,/etc/athena/login/owleyes4.xbm)
install_file(owleyes5.xbm,/etc/athena/login/owleyes5.xbm)
install_file(Xlogin,/etc/athena/login/Xlogin)
install_man(timeout.1,timeout.1)
install_man(xlogin.8,xlogin.8)

lint:
	$(LINT) $(LINTFLAGS) $(SRCS)

