/*
 *  Imakefile for nanny
 *  Copyright (c) 1991, Massachusetts Institute of Technology
 *		
 *   $Id: Imakefile,v 1.15 1999-09-02 14:56:18 ghudson Exp $
 *
 * Copyright 1990, 1991 by the Massachusetts Institute of Technology. 
 *
 * For copying and distribution information, please see the file
 * <mit-copyright.h>. 
 *
 */

/*
 *#include "mit-copyright.h"
 */

error_table(pc_err)

NANNY		=	nanny

ELMER		=	elmer

LIBOBJS		=	pc_err.o nannylib.o pc_bsd.o cons_sysv.o \
			dpy_irix.o var.o cvt.o

NANNYOBJS	=	nanny.o

ELMEROBJS	=	elmer.o

CFILES		=	pc_err.c nanny.c pc_bsd.c cons_sysv.c var.c cvt.c \
			dpy_irix.c nannylib.c testtty.c testsetUser.c \
			testloginUser.c

LIBS		=	-lal -L. -lnanny -lcom_err -lhesiod

AFSLIBS		=	-L$(AFSDIR)/lib -L$(AFSDIR)/lib/afs -lauth -lsys -lrx \
			-lsys -llwp

AnsiCC()

create_dir(${ATHRETCDIR}/login)

build_library(nanny, ${LIBOBJS})
build_program(testtty, testtty.o,, ${LIBS})
build_program(testsetUser, testsetUser.o,, ${LIBS})
build_program(testloginUser, testloginUser.o,, ${LIBS})
build_program(testlogoutUser, testlogoutUser.o,, ${LIBS})

create_dir(${ATHRETCDIR})
create_dir(${ATHRETCDIR}/login)
create_dir(${ATHMANDIR}/man8)
SimpleProgram(${NANNY},${NANNYOBJS},${LIBS} ${AFSLIBS},${ATHRETCDIR}/${NANNY})
SimpleProgram(${ELMER},${ELMEROBJS},${LIBS} ${AFSLIBS},${ATHRETCDIR}/login/${ELMER})
install_man(${NANNY}.8,${NANNY}.8)
install_man(${ELMER}.8,${ELMER}.8)

create_depend(${CFILES})
